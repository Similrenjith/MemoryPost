{"ast":null,"code":"import _objectSpread from\"D:/reactProjects/socialmedia/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/reactProjects/socialmedia/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import useStyles from'./Style';import{TextField,Button,Typography,Paper}from\"@material-ui/core\";import FileBase from'react-file-base64';import{useDispatch,useSelector}from\"react-redux\";import{createPost,updatePost}from\"../../actions/posts\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Form=function Form(_ref){var currentId=_ref.currentId,setCurrentId=_ref.setCurrentId;var _useState=useState({creator:'',title:'',message:'',tags:'',selectedFile:''}),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var post=useSelector(function(state){return currentId?state.posts.find(function(p){return p._id==currentId;}):null;});var classes=useStyles();var dispatch=useDispatch();useEffect(function(){if(post)setPostData(post);},[post]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(currentId){dispatch(updatePost(currentId,postData));}else{dispatch(createPost(postData));}clear();};var clear=function clear(){setCurrentId(null);setPostData({creator:'',title:'',message:'',tags:'',selectedFile:''});};return/*#__PURE__*/_jsx(Paper,{className:classes.paper,children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",noValidate:true,className:\"\".concat(classes.root,\" \").concat(classes.form),onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[currentId?\"Editing\":\"Creating\",\" a Memory\"]}),/*#__PURE__*/_jsx(TextField,{name:\"creator\",variant:\"outlined\",label:\"Creator\",fullWidth:true,value:postData.creator,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{creator:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{name:\"title\",variant:\"outlined\",label:\"Title\",fullWidth:true,value:postData.title,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{name:\"message\",variant:\"outlined\",label:\"Message\",fullWidth:true,value:postData.message,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{message:e.target.value}));}}),/*#__PURE__*/_jsx(TextField,{name:\"tags\",variant:\"outlined\",label:\"Tags\",fullWidth:true,value:postData.tags,onChange:function onChange(e){return setPostData(_objectSpread(_objectSpread({},postData),{},{tags:e.target.value.split(',')}));}}),/*#__PURE__*/_jsx(\"div\",{className:classes.fileInput,children:/*#__PURE__*/_jsx(FileBase,{type:\"file\",multiple:false,onDone:function onDone(base64){return setPostData(_objectSpread(_objectSpread({},postData),{},{selectedFile:base64.base64}));}//console.log(base64.base64)\n})}),/*#__PURE__*/_jsx(Button,{className:classes.buttonSubmit,variant:\"contained\",color:\"primary\",size:\"large\",type:\"submit\",fullWidth:true,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{className:classes.buttonSubmit,variant:\"contained\",color:\"secondary\",size:\"small\",onClick:clear,fullWidth:true,children:\"Clear\"})]})});};export default Form;","map":{"version":3,"names":["React","useState","useEffect","useStyles","TextField","Button","Typography","Paper","FileBase","useDispatch","useSelector","createPost","updatePost","jsxs","_jsxs","jsx","_jsx","Form","_ref","currentId","setCurrentId","_useState","creator","title","message","tags","selectedFile","_useState2","_slicedToArray","postData","setPostData","post","state","posts","find","p","_id","classes","dispatch","handleSubmit","e","preventDefault","clear","className","paper","children","autoComplete","noValidate","concat","root","form","onSubmit","variant","name","label","fullWidth","value","onChange","_objectSpread","target","split","fileInput","type","multiple","onDone","base64","buttonSubmit","color","size","onClick"],"sources":["D:/reactProjects/socialmedia/client/src/components/Form/Form.js"],"sourcesContent":["import React,{useState,useEffect}  from \"react\";\r\nimport useStyles from './Style'\r\nimport { TextField,Button,Typography,Paper } from \"@material-ui/core\";\r\nimport FileBase from 'react-file-base64'\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { createPost,updatePost } from \"../../actions/posts\";\r\n\r\n\r\nconst Form = ({currentId,setCurrentId}) =>{\r\n    const [postData,setPostData] = useState({\r\n        creator:'',\r\n        title:'',\r\n        message:'',\r\n        tags:'',\r\n        selectedFile:''\r\n    });\r\n    const post = useSelector((state)=> currentId ? state.posts.find((p) => p._id == currentId):null)\r\n    const  classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if(post) setPostData(post)\r\n    },[post])\r\n\r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault()\r\n        if(currentId){\r\n            dispatch(updatePost(currentId,postData))\r\n        }else{\r\n\r\n            dispatch(createPost(postData))\r\n          \r\n        }\r\n        clear()\r\n    }\r\n    const clear = () => {\r\n        setCurrentId(null)\r\n\r\n        setPostData({creator:'',\r\n        title:'',\r\n        message:'',\r\n        tags:'',\r\n        selectedFile:''})\r\n\r\n    }\r\n    return(\r\n        <Paper className={classes.paper}>\r\n            <form autoComplete=\"off\" noValidate className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}> \r\n                <Typography variant=\"h6\">{currentId ? `Editing` : `Creating`} a Memory</Typography>\r\n                <TextField \r\n                name=\"creator\" \r\n                variant=\"outlined\" \r\n                label=\"Creator\" \r\n                fullWidth\r\n                value={postData.creator}\r\n                onChange={(e) => setPostData({...postData,creator:e.target.value})}\r\n                />\r\n\r\n                <TextField \r\n                name=\"title\" \r\n                variant=\"outlined\" \r\n                label=\"Title\" \r\n                fullWidth\r\n                value={postData.title}\r\n                onChange={(e) => setPostData({...postData,title:e.target.value})}\r\n                />\r\n\r\n\r\n                <TextField \r\n                name=\"message\" \r\n                variant=\"outlined\" \r\n                label=\"Message\" \r\n                fullWidth\r\n                value={postData.message}\r\n                onChange={(e) => setPostData({...postData,message:e.target.value})}\r\n                />\r\n\r\n\r\n                <TextField \r\n                name=\"tags\" \r\n                variant=\"outlined\" \r\n                label=\"Tags\" \r\n                fullWidth\r\n                value={postData.tags}\r\n                onChange={(e) => setPostData({...postData,tags:e.target.value.split(',')})}\r\n                />\r\n                <div className={classes.fileInput}>\r\n                    <FileBase type=\"file\" multiple={false} onDone={(base64)=> \r\n                        setPostData({...postData,selectedFile:base64.base64\r\n                        })\r\n                        //console.log(base64.base64)\r\n                        }/>\r\n                </div>\r\n                <Button className={classes.buttonSubmit} variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" fullWidth>Submit</Button>\r\n                <Button className={classes.buttonSubmit} variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fullWidth>Clear</Button>\r\n            </form>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}